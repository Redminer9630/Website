<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Einstellungen - Redminer9630</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin:0; background-color:#eaeaea; color:#000; padding:2rem; font-family:sans-serif; }
    h1, h2 { margin-bottom:2rem; color:#000; }
    .settings-item { margin-bottom:1.5rem; display:flex; flex-direction:column; gap:0.5rem; }
    label { cursor:pointer; } input[type="checkbox"], input[type="radio"] {vertical-align: middle;position: relative;top: -1px;}
    :root[data-theme="dark"] body { background-color:#1a1a1a; color:#fff; }
    :root[data-theme="dark"] h1, :root[data-theme="dark"] h2 { color:#fff; }
    .settings-itemtitle {font-weight: bold;display: inline-block;cursor: pointer;max-width: max-content;}
  </style>
  <script type="module" defer src="https://cdn.jsdelivr.net/gh/Redminer9630/Website@t74/docs/autoloader.js"></script>
<script type="module">function setRadioValue(name, value){document.querySelectorAll(`input[name="${name}"]`).forEach(r=>r.checked=r.value===value);}
document.addEventListener("DOMContentLoaded",()=>{
  const theme=localStorage.getItem("theme")||"sys";
  const font=localStorage.getItem("font")||"mojangles";
  const marks=localStorage.getItem("marks")||"true";
  const maxHistory=localStorage.getItem("searchMaxHistory")||"15";

  setRadioValue("theme",theme);
  setRadioValue("font",font);
  document.querySelector("#marks-toggle").checked = (marks === null ? true : marks === "true")
  document.querySelector("#max-history").value = maxHistory;

  window.applyTheme?.(theme);
  window.applyFont?.(font);

  document.querySelectorAll('input[name="theme"]').forEach(r=>r.addEventListener("change",e=>{
    localStorage.setItem("theme",e.target.value);
    window.applyTheme?.(e.target.value);
  }));

  document.querySelectorAll('input[name="font"]').forEach(r=>r.addEventListener("change",e=>{
    localStorage.setItem("font",e.target.value);
    window.applyFont?.(e.target.value);
  }));

  document.querySelector("#marks-toggle").addEventListener("change", e => {
    localStorage.setItem("marks", e.target.checked ? "true" : "false");
  });

  document.querySelector("#max-history").addEventListener("change", e => {
    let val = parseInt(e.target.value, 10);
    if(isNaN(val) || val < 1) val = 1;
    if(val > 50) val = 50;
    e.target.value = val;
    localStorage.setItem("searchMaxHistory", val);
  });
});
</script>
</head>
<body>
  <main role="main">
    <h1>Einstellungen</h1>
    <h2>Aussehen</h2>
    <div class="settings-item">
      <label class="settings-itemtitle">Design</label>
      <div class="radio-group" id="theme-options">
        <label><input type="radio" name="theme" value="dark"> Dunkel</label>
        <label><input type="radio" name="theme" value="light"> Hell</label>
        <label><input type="radio" name="theme" value="sys"> System</label>
      </div>
    </div>

    <div class="settings-item">
      <label for="font" class="settings-itemtitle">Schriftart</label>
      <div class="radio-group" id="font-options">
        <label><input type="radio" name="font" id="font-mojangles" value="mojangles"> Mojangles</label>
        <label><input type="radio" name="font" id="font-arial" value="arial"> Arial</label>
      </div>
   </div>

   <h2>Suche</h2>
   <div class="settings-item"><label class="settings-itemtitle"><input type="checkbox" id="marks-toggle"> Suchergebnisse markieren</label></div>
   <div class="settings-item">
     <label for="max-history" class="settings-itemtitle"> Maximale gespeicherte Suchvorschl√§ge</label>
     <input type="number" id="max-history" style="width: 5ch;" min="1" max="50" value="15">
   </div>
  </main>
</body>
</html>
