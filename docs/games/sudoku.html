<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Sudoku Spiel</title>
    <link rel="stylesheet" href="framework.css">
    <script type="module" defer src="../autoloader.js"></script>
    <script type="module" defer src="game.js"></script>
</head>
<body>
    <h1>Sudoku</h1>
    <label>
        <input type="checkbox" id="mcMode"> Minecraft Modus
    </label>
    <br><br>
    <embed9 id="sudokuGrid" rows="9" cols="9" lines></embed9>

    <script>
    const minecraftItems = [
        "minecraft:apple", "minecraft:bread", "minecraft:carrot",
        "minecraft:diamond", "minecraft:emerald", "minecraft:iron_ingot",
        "minecraft:gold_ingot", "minecraft:stick", "minecraft:bow"
    ];

    function generateSudoku() {const grid = Array.from({ length: 9 }, () => Array(9).fill(0));for (let r = 0; r < 9; r++) {for (let c = 0; c < 9; c++) {grid[r][c] = ((r * 3 + Math.floor(r / 3) + c) % 9) + 1;}}return grid;}

    function renderSudoku(grid, mcMode) {
        const sudokuGrid = document.getElementById("sudokuGrid");
        const cells = sudokuGrid.querySelectorAll("div");
        cells.forEach((cell, i) => {
            const row = Math.floor(i / 9);
            const col = i % 9;
            const value = grid[row][col];

            cell.innerHTML = "";

            if (mcMode) {
                const item = document.createElement("imgd9");
                item.setAttribute("src", minecraftItems[value - 1]);
                cell.appendChild(item);
            } else {cell.textContent = value;}
        });
    }

    let sudokuData = generateSudoku();
    let mcModeCheckbox = document.getElementById("mcMode");

    renderSudoku(sudokuData, mcModeCheckbox.checked);

    mcModeCheckbox.addEventListener("change", () => {renderSudoku(sudokuData, mcModeCheckbox.checked);});
    </script>
</body>
</html>
