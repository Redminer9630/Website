<!DOCTYPE html>
<html>
<head>
    <title>Skin Flibidi/title>
    <style>
        @font-face { font-family: 'MinecraftFont'; src: url('https://redminer9630de.github.io/minecraft_font.ttf') format('truetype'), url('https://redminer9630de.github.io/minecraft_font.woff') format('woff'); }
        body { font-family: 'MinecraftFont', sans-serif; text-align: center; padding: 20px; transition: background-color 0.3s, color 0.3; }
        h1 { font-size: 36px; margin-bottom: 20px; }
        .header-link { font-size: 16px; text-decoration: none; padding: 10px 20px; border-radius: 8px; position: absolute; top: 20px; right: 20px; font-family: 'MinecraftFont', sans-serif; background-color: #f44336; color: white; }
        .skin-container { display: inline-block; margin: 10px; text-align: center; }
        .skin-image { width: 150px; height: 300px; background-color: #f0f0f0; border-radius: 10px; }
        .skin-title { margin-top: 10px; font-size: 18px; }
        button {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: block;
            width: 100%;
            font-family: 'Minecraft', sans-serif;
        }
    </style>
</head>
<body>
  <input type="file" id="skinInput" accept="image/png">
  <button onclick="processSkin()">Skin verarbeiten</button>
  <br><br>
  <canvas id="canvas" width="64" height="64" style="display:none;"></canvas>
  <a id="downloadLink" download="skin_cheatlook.png">Download</a>

  <script>
    let img = new Image();
    let canvas = document.getElementById('canvas');
    let ctx = canvas.getContext('2d');

    document.getElementById('skinInput').onchange = e => {
      let reader = new FileReader();
      reader.onload = () => {
        img.onload = () => ctx.drawImage(img, 0, 0);
        img.src = reader.result;
      };
      reader.readAsDataURL(e.target.files[0]);
    };

    function flipSection(x, y) {
      let imageData = ctx.getImageData(x, y, 8, 8);
      let flipped = ctx.createImageData(8, 8);
      for (let y0 = 0; y0 < 8; y0++) {
        for (let x0 = 0; x0 < 8; x0++) {
          let src = (y0 * 8 + x0) * 4;
          let dest = (y0 * 8 + (7 - x0)) * 4;
          for (let i = 0; i < 4; i++) flipped.data[dest + i] = imageData.data[src + i];
        }
      }
      return flipped;
    }

    function processSkin() {
      let front = flipSection(24, 8);
      let back = flipSection(8, 8);
      let hatFront = flipSection(56, 8);
      let hatBack = flipSection(40, 8);

      ctx.putImageData(front, 8, 8);
      ctx.putImageData(back, 24, 8);
      ctx.putImageData(hatFront, 40, 8);
      ctx.putImageData(hatBack, 56, 8);

      let link = document.getElementById('downloadLink');
      link.href = canvas.toDataURL();
      link.style.display = 'inline';
    }
  </script>
</body>
</html>
