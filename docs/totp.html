<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width,initial-scale=1"/>
        <title>TOTP Generator - Redminer9630</title>
        <script src="https://cdn.jsdelivr.net/npm/otplib@12.0.1/otplib.umd.min.js"></script>
        <style>
            body{font-family:Mojangles;background-color:#eaeaea;max-width:400px;margin:2em auto;}
            input{padding:.5em;font-size:1em;margin:.5em 0;width:100%;text-transform:uppercase;letter-spacing:.1em;}
            .code{font-size:3em;letter-spacing:.5em;text-align:center;margin-top:1em;font-weight:700;}
            progress{width:100%;height:20px;margin-top:.5em;}
            :root[data-theme="dark"] body {background-color: #1a1a1a; color: #fff;}
            :root[data-theme="dark"] label, :root[data-theme="dark"] .code, :root[data-theme="dark"] div { color: #fff; }
        </style>
        <script src="https://cdn.jsdelivr.net/gh/Redminer9630/Website@t72/docs/autoloader.js" type="module" defer></script>
    </head>
    <body>
        <h1>TOTP Generator</h1>
        <label for="secret">Secret:</label>
        <input id="secret" maxlength="32" autocomplete="off"/>
        <div class="code" id="code">------</div>
        <progress id="progress" max="30" value="0"></progress>
        <script src="https://cdn.jsdelivr.net/npm/otplib@12.0.1/otplib-browser.min.js"></script>
        <script>
            const s=document.getElementById('secret'),c=document.getElementById('code'),p=document.getElementById('progress');
            let i;function u(){const e=s.value.trim().toUpperCase();if(!e||e.length!==32)return c.textContent='------',void(p.value=0);
                try{const t=otplib.authenticator.generate(e),n=Math.floor(Date.now()/1e3)%30;c.textContent=t,p.value=n}
                catch{return c.textContent='UngÃ¼ltiges Secret',void(p.value=0)}}s.addEventListener('input',()=>{u(),i&&clearInterval(i),i=setInterval(u,1e3)}),u(),i=setInterval(u,1e3);
        </script>
    </body>
</html>
