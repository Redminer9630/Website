<!DOCTYPE html>
<html lang="de">
<head><meta charset="UTF-8"><title>Login</title></head>
<body>
	<h1>Anmelden</h1>
	<form>
		<input type="text" id="username" placeholder="Benutzername oder E-Mail" required><br>
		<input type="password" id="password" placeholder="Passwort" required><br>
		<button type="submit">Anmelden</button>
	</form>
	<script>
		document.querySelector("form").addEventListener("submit", async e => {
			e.preventDefault();
			const res = await fetch("https://backend9630.onrender.com/api/signin", {
				method: "POST",
				headers: { "Content-Type": "application/json" },
				credentials: "include",
				body: JSON.stringify({
					user: document.querySelector("#username").value,
					password: document.querySelector("#password").value
				})
			});
			const out = await res.json();
			alert(out.message);
			if (out.success) location.href = "settings.html";
		});
	</script>
</body>
</html>
