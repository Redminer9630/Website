<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minecraft Wiki</title>
    <style>
        @font-face {
            font-family: 'MinecraftFont';
            src: url('minecraft_font.ttf') format('truetype');
        }

        /* Light Theme */
        body {
            background-color: white;
            color: black;
        }    

        body.dark-theme {
            background-color: black;
            color: white;
        }

        /* System-basierte Einstellung */
        @media (prefers-color-scheme: dark) {
            body {
                background-color: black;
                color: white;
            }
        }
        
        @media (prefers-color-scheme: light) {
            body {
                background-color: white;
                color: black;
            }
        }

        h1 {
            font-size: 36px;
            margin-bottom: 20px;
        }

        .header-link {
            color: white;
            font-size: 16px;
            text-decoration: none;
            background-color: #f44336;
            padding: 10px 20px;
            border-radius: 8px;
            position: absolute;
            top: 20px;
            right: 20px;
        }

        .header-link:hover {
            background-color: #e53935;
        }

        .shortcut-button, .info-button {
            display: inline-block;
            background-color: #4CAF50;
            color: white;
            padding: 15px;
            margin: 10px;
            cursor: pointer;
            border: none;
            border-radius: 8px;
            font-size: 18px;
        }

        .shortcut-button:hover, .info-button:hover {
            background-color: #45a049;
        }

        #content {
            margin-top: 20px;
            text-align: left;
            font-size: 18px;
            max-height: 500px;
            overflow-y: auto;
            border: 1px solid #ddd;
            padding: 10px;
            box-sizing: border-box;
        }

        .key-image {
            width: 268px;
            height: 104px;
            margin: 5px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        table, th, td {
            border: 1px solid white;
        }

        th, td {
            padding: 8px;
            text-align: left;
        }

        th {
            cursor: pointer;
        }

        .info-content {
            margin-top: 15px;
            text-align: left;
            display: none; /* Anfangs nicht anzeigen */
            max-height: 850px;
            overflow-y: auto;
            border: 1px solid #ddd;
            padding: 10px;
            box-sizing: border-box;
        }

        #settings {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: rgba(255, 255, 255, 0.1); /* Transparenter Hintergrund */
            padding: 10px;
            border-radius: 8px;
            color: white;
            display: flex;
            flex-direction: column; /* Elemente untereinander anordnen */
            align-items: flex-start; /* Elemente linksbündig ausrichten */
        }

        #settings label, #settings select {
            margin-bottom: 5px;
            color: inherit; /* Textfarbe von #settings erben */
        }

        #settings select {
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 5px;
            cursor: pointer;
        }

        #settings select:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <a id="back-link" href="https://redminer9630github.github.io/Redminer9630.de/" tabindex="1" class="header-link">Zurueck ></a>
    <h1>Minecraft Wiki</h1>
    
    <label for="language-select">Sprache:</label>
    <select id="language-select" onchange="changeLanguage(this.value)">    
        <option value="de">Deutsch</option>
        <option value="en">English</option>
    </select>
    <label for="theme-select">Theme:</label>
    <select id="theme-select" onchange="changeTheme(this.value)">
        <option value="light">Hell</option>
        <option value="dark">Dunkel</option>
        <option value="system">System</option>
    </select>

/*    <button class="shortcut-button" tabindex="2" onclick="showKeyBindings()">${language === 'de' ? 'Tastenkombinationen' : 'Shortcuts'}</button>
/*    <button class="shortcut-button" tabindex="3" onclick="showCommands()">${language === 'de' ? 'Minecraft Befehle' : 'Minecraft Commands'}</button>
/*    <button class="info-button" tabindex="4" onclick="showUsefulInfo()">${language === 'de' ? 'Nuetzliche Infos' : 'Usefull Info'}</button>
/*    <button class="shortcut-button" tabindex="5" onclick="showTrading()">${language === 'de' ? 'Handeln' : 'Trading'}</button>
/*    <button class="shortcut-button" tabindex="6" onclick="showBrewing()">${language === 'de' ? 'Brauen' : 'Brewing'}</button>
    <button class="shortcut-button" tabindex="2" onclick="showKeyBindings()">Tastenkombinationen</button>
    <button class="shortcut-button" tabindex="3" onclick="showCommands()">Minecraft Befehle</button>
    <button class="info-button" tabindex="4" onclick="showUsefulInfo()">Nuetzliche Infos</button>
    <button class="shortcut-button" tabindex="5" onclick="showTrading()">Handeln</button>
    <button class="shortcut-button" tabindex="6" onclick="showBrewing()">Brauen</button>

    <div id="content">
        <!-- Inhalt wird hier angezeigt -->
    </div>

    <div id="keyboard-display" style="margin-top: 20px;">
        <!-- Tastaturbilder werden hier angezeigt -->
    </div>

    <script>
        let language = localStorage.getItem('language') || 'de'; // Standardmäßig Deutsch

        function changeLanguage(lang) {
            language = lang;
            localStorage.setItem('language', lang);
            updateTextContent(); // Aktualisiert alle Texte basierend auf der ausgewählten Sprache
        }

        function updateTextContent() {
            document.querySelector('label[for="language-select"]').textContent = language === 'de' ? 'Sprache:' : 'Language:';
            document.querySelector('option[value="de"]').textContent = language === 'de' ? 'Deutsch' : 'German';
            document.querySelector('option[value="en"]').textContent = language === 'de' ? 'Englisch' : 'English';
            document.querySelector('label[for="theme-select"]').textContent = language === 'de' ? 'Theme:' : 'Theme:';
    
            document.querySelector('button[onclick="showKeyBindings()"]').textContent = language === 'de' ? 'Tastenkombinationen' : 'Shortcuts';
            document.querySelector('button[onclick="showCommands()"]').textContent = language === 'de' ? 'Minecraft Befehle' : 'Minecraft Commands';
            document.querySelector('button[onclick="showUsefulInfo()"]').textContent = language === 'de' ? 'Nuetzliche Infos' : 'Useful Info';
            document.querySelector('button[onclick="showBrewing()"]').textContent = language === 'de' ? 'Brauen' : 'Brewing';
            document.querySelector('button[onclick="showTrading()"]').textContent = language === 'de' ? 'Handeln' : 'Trading';
        }
    
        // Aktualisiere den Textinhalt beim Laden der Seite
        document.addEventListener('DOMContentLoaded', () => {
            updateTextContent();
                const savedTheme = localStorage.getItem('theme') || 'system';
            applyTheme(savedTheme);    
            monitorSystemThemeChanges();
        });


        function changeTheme(theme) {
            const body = document.body;
            body.classList.remove('light', 'dark', 'system');

            if (theme === 'system') {
                body.classList.add('system');
            } else {
                body.classList.add(theme);
            }

            localStorage.setItem('theme', theme);
        }

        }
        
        function applyTheme(theme) {
            const body = document.body;

            if (theme === 'dark') {
                body.classList.add('dark-theme');
            } else if (theme === 'light') {
                body.classList.remove('dark-theme');
            } else if (theme === 'system') {
                if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    body.classList.add('dark-theme');
                } else {
                    body.classList.remove('dark-theme');
                }
            }
        }

        // Überwacht, ob das System-Theme geändert wird
        function monitorSystemThemeChanges() {
            const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
            mediaQuery.addEventListener('change', (e) => {
                if (localStorage.getItem('theme') === 'system') {
                    applyTheme('system');
                }
            });
        }

        // Initialisierung
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme') || 'system';        
            applyTheme(savedTheme);
            monitorSystemThemeChanges();
        });

        const keys = {
            'normal': 'normal.jpg',
            '0': '0.tiff',
            '1': '1.tiff',
            '2': '2.tiff',
            '3': '3.tiff',
            '4': '4.tiff',
            '5': '5.tiff',
            '6': '6.tiff',
            '7': '7.tiff',
            '8': '8.tiff',
            '9': '9.tiff',
            'a': 'a.tiff',
            'alt': 'alt.tiff',
            'alt2': 'alt2.tiff',
            'b': 'b.tiff',
            'backspace': 'backspace.tiff',
            'c': 'c.tiff',
            'ctrl': 'ctrl.tiff',
            'ctrl2': 'ctrl2.tiff',
            'd': 'd.tiff',
            'e': 'e.tiff',
            'enter': 'enter.tiff',
            'esc': 'esc.tiff',
            'f': 'f.tiff',
            'f1': 'f1.tiff',
            'f2': 'f2.tiff',
            'f3': 'f3.tiff',
            'f4': 'f4.tiff',
            'f5': 'f5.tiff',
            'f11': 'f11.tiff',
            'g': 'g.tiff',
            'h': 'h.tiff',
            'n': 'n.tiff',
            'q': 'q.tiff',
            'r': 'r.tiff',
            's': 's.tiff',
            'shift': 'shift.tiff',
            'shift2': 'shift2.tiff',
            'tab': 'tab.tiff',
            'wasd': 'wasd.tiff',
            'windows': 'windows.tiff',
            'x': 'x.tiff'
        };

        function simulateShortcut(sequence) {
            let display = document.getElementById('keyboard-display');
            display.innerHTML = ''; // Leere den Display-Bereich

            sequence.forEach((key, index) => {
                setTimeout(() => {
                    let img = document.createElement('img');
                    img.src = keys[key];
                    img.classList.add('key-image');
                    display.appendChild(img);
                }, index * 2); // 1.2 Sekunden Verzögerung pro Taste
            });

            // Nach der Sequenz normale Ansicht wiederherstellen
            setTimeout(() => {
                display.innerHTML = '<p>${language === 'de' ? 'Keine Kombination ausgewählt' : 'No combination choosen'}</p>';
            }, sequence.length * 500 + 15000); // 10 Sekunden Verzögerung nach der letzten Taste
        }

        function showKeyBindings() {
            document.getElementById('content').innerHTML = `
                <h2>Minecraft Tastenkombinationen:</h2>
                    <ul>
                        <li><button class="shortcut-button" onclick="simulateShortcut(['f3', 'q'])">F3 + Q</button>${language === 'de' ? 'Zeigt alle F3 Shortcuts' : 'Shows F3 Shortcuts'}</li>   
                        <li><button class="shortcut-button" onclick="simulateShortcut(['f3', 'a'])">F3 + A</button>${language === 'de' ? 'Laedt die Chunks neu' : 'Reloads Chunks'}</li>
                        <li><button class="shortcut-button" onclick="simulateShortcut(['f3', 't'])">F3 + T</button>${language === 'de' ? 'Laedt alle Ressourcepacks neu' : 'Reloads Ressourcepacks'}</li>
                        <li><button class="shortcut-button" onclick="simulateShortcut(['f3', 'h'])">F3 + H</button>${language === 'de' ? 'Erweiterte Item-Anzeige' : 'Advanced Item Displaying'}</li>
                        <li><button class="shortcut-button" onclick="simulateShortcut(['f3', 'c'])">F3 + C</button>${language === 'de' ? 'Kopiert die jetzige Position als Befehl' : 'Copy current position as Command'}</li>
                        <li><button class="shortcut-button" onclick="simulateShortcut(['f3', 'c'])">F3 + C</button>${language === 'de' ? 'Gedrueckt halten um das Spiel zu crashen' : 'Hold down to crash the Game'}</li>
                        <li><button class="shortcut-button" onclick="simulateShortcut(['f3', 'b'])">F3 + B</button>${language === 'de' ? 'Zeigt Hitboxen' : 'Shows Hitboxes'}</li>
                        <li><button class="shortcut-button" onclick="simulateShortcut(['f3', 'd'])">F3 + D</button>${language === 'de' ? 'Chat wird Geelert' : 'Clears Chat'}</li>
                        <li><button class="shortcut-button" onclick="simulateShortcut(['f3', 'n'])">F3 + N</button>${language === 'de' ? 'Wechselt zum Zuschauer-Modus' : 'Switches to Spectator Mode'}</li>
                        <li><button class="shortcut-button" onclick="simulateShortcut(['f3', 'g'])">F3 + G</button>${language === 'de' ? 'Zeigt Chunk-Grenzen an' : 'Shows Chunk Borders'}</li>
                        <li><button class="shortcut-button" onclick="simulateShortcut(['f3', 'esc'])">F3 + ESC</button>${language === 'de' ? 'Pausiert das Spiel' : 'Pauses the Game'}</li>
                        <li><button class="shortcut-button" onclick="simulateShortcut(['f3', 'f4'])">F3 + F4</button>${language === 'de' ? 'Oeffnet das Gamemode-Menue' : 'Opens Gamemode Menu'}</li>
                    </ul>
            `;
        }

        function showCommands() {
            document.getElementById('content').innerHTML = `
                <h2>${language === 'de' ? 'Minecraft Befehle' : 'Minecraft Commands'}:</h2>
                <table id="commandTable">
                    <thead>
                        <tr>
                            <th onclick="sortTable(0)">${language === 'de' ? 'Name' : 'Name'}</th>
                            <th onclick="sortTable(1)">${language === 'de' ? 'Beschreibung' : 'Description'}</th>
                            <th onclick="sortTable(2)">Op Level</th>
                            <th onclick="sortTable(3)">${language === 'de' ? 'Nur Multiplayer' : 'Multiplayer Only'}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Füge hier die Commands ein -->
                    </tbody>
                </table>
            `;
        }

        function showBrewing() {
            document.getElementById('content').innerHTML = `
                <h2>Brauen:</h2>
                <ul>
                    <div>
                        <ul>
                            <li><button class="info-button" onclick="showBrewingInfo('swiftness')">${language === 'de' ? 'Trank der Schnelligkeit' : 'Potion of Swiftness'}</button></li>
                            <li><button class="info-button" onclick="showBrewingInfo('slowness')">${language === 'de' ? 'Trank der Langsamkeit' : 'Potion of Slowness'}</button></li>
                            <li><button class="info-button" onclick="showBrewingInfo('leaping')">${language === 'de' ? 'Trank des Sprungkraft' : 'Potion of Leaping'}</button></li>
                            <li><button class="info-button" onclick="showBrewingInfo('strength')">${language === 'de' ? 'Trank der Staerke' : 'Potion of Stregth'}</button></li>
                            <li><button class="info-button" onclick="showBrewingInfo('healing')">${language === 'de' ? 'Trank der Heilung' : 'Potion of Healing'}</button></li>
                            <li><button class="info-button" onclick="showBrewingInfo('harming')">${language === 'de' ? 'Trank des Schadens' : 'Potion of Harming'}</button></li>
                            <li><button class="info-button" onclick="showBrewingInfo('poison')">${language === 'de' ? 'Trank des Gifts' : 'Potion of Poison'}</button></li>
                            <li><button class="info-button" onclick="showBrewingInfo('regeneration')">${language === 'de' ? 'Trank der Regeneration' : 'Potion of Regeneration'}</button></li>
                            <li><button class="info-button" onclick="showBrewingInfo('fireResistance')">${language === 'de' ? 'Trank des Feuerschutzes' : 'Potion of Fire Resistance'}</button></li>
                            <li><button class="info-button" onclick="showBrewingInfo('waterBreathing')">${language === 'de' ? 'Trank des Wasseratmung' : 'Potion of Water Breathing'}</button></li>
                            <li><button class="info-button" onclick="showBrewingInfo('nightVision')">${language === 'de' ? 'Trank der Nachtsicht' : 'Potion of Night Vision'}</button></li>
                            <li><button class="info-button" onclick="showBrewingInfo('invisibility')">${language === 'de' ? 'Trank der Unsichtbarkeit' : 'Potion of Invisibility'}</button></li>
                            <li><button class="info-button" onclick="showBrewingInfo('turtleMaster')">${language === 'de' ? 'Trank des Schildkroetenmeisters' : 'Potion of Turtle Master'}</button></li>
                            <li><button class="info-button" onclick="showBrewingInfo('slowFalling')">${language === 'de' ? 'Trank des Langsam Fallens' : 'Potion of Slow Falling'}</button></li>
                        </ul>
                    </div>
                </ul>
            `;
        }
        function showUsefulInfo() {
            document.getElementById('content').innerHTML = `
                <h2>Nuetzliche Infos:</h2>
                <ul>
                    <li><button class="info-button" onclick="toggleInfo('calibrated-info')">Calibrierter Sculk Sensor</button></li>
                    <div id="calibrated-info" class="info-content">                            
                        <p>Redstone Stufen:</p>
                        <p>1  | Gehen, Klettern, Springen, Schwimmen und Kriechen.</p>
                        <p>2  | Landen auf einem Soliden block or der in einer Fluessigkeit.</p>
                        <p>3  | Item benutzen(Angel werfen, Trank trinken).</p>
                        <p>4  | Gleiten mit einer Elytra oder ein Mob der eine Faehigkeit benutzt.</p>
                        <p>5  | Absteigen von einem Mob oder Anziehen von Ruestung.</p>    
                        <p>6  | Auf ein Mob Aufsteigen oder Interagieren mit einem Mob.</p>
                        <p>7  | Ein Mob oder Spieler der Schaden nimmt.</p>
                        <p>8  | Essen wird gegessen.</p>
                        <p>9  | Ein block der deaktieviert wird(Kiste oder Tuer wird geschlossen).</p>
                        <p>10 | Ein block der aktiviert wird(Kiste oder Tuer die geoeffnet wird).</p>
                        <p>11 | Ein block der veraendert wird(Essen wird zu einem Lagerfeuer gelegt).</p>
                        <p>12 | Ein !Wolle block der abgebaut wird.</p>
                        <p>13 | Ein !Wolle block der platziert wird.</p>
                        <p>14 | Ein Mob oder Spieler der Teleportiert wird oder spawnt.</p>
                        <p>15 | Ein Mob oder Spieler der stirbt oder eine Explosion.</p>
                </ul>
            `;
        }

        function showTrading() {
            document.getElementById('content').innerHTML = `
                <h2>${language === 'de' ? 'Handeln' : 'Trading'}:</h2>
                //trades
            `;
        }

        function toggleInfo(infoId) {
            const infoElement = document.getElementById(infoId);
            const isVisible = infoElement.style.display === "block";
            infoElement.style.display = isVisible ? "none" : "block";
        }

        function sortTable(columnIndex) {
            const table = document.getElementById("commandTable");
            const tbody = table.querySelector("tbody");
            const rows = Array.from(tbody.rows);

            const ascending = !table.dataset.sortDirection || table.dataset.sortDirection === 'descending';
            table.dataset.sortDirection = ascending ? 'ascending' : 'descending';

            rows.sort((a, b) => {
                const aText = a.cells[columnIndex].textContent.trim();
                const bText = b.cells[columnIndex].textContent.trim();

                if (ascending) {
                    return aText.localeCompare(bText);
                } else {
                    return bText.localeCompare(aText);
                }
            });

            rows.forEach(row => tbody.appendChild(row));
        }
    </script>
</body>
</html>
